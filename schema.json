{
  "@context": ["http://www.w3.org/ns/csvw", {"@language": "en"}],
  "tables": [
    {
      "url": "https://ons-opendata.github.io/ref_common/codelists/age-groups.csv",
      "tableSchema": "https://ons-opendata.github.io/ref_common/codelist-schema.json"
    }, {
      "url": "https://ons-opendata.github.io/ref_alcohol/codelists/service-type.csv",
      "tableSchema": "https://ons-opendata.github.io/ref_common/codelist-schema.json"
    }, {
      "url": "https://ons-opendata.github.io/ref_alcohol/codelists/residential-status.csv",
      "tableSchema": "https://ons-opendata.github.io/ref_common/codelist-schema.json"
    }, {
      "url": "https://ons-opendata.github.io/ref_alcohol/codelists/treatment-type.csv",
      "tableSchema": "https://ons-opendata.github.io/ref_common/codelist-schema.json"
    }, {
      "url": "https://ons-opendata.github.io/ref_alcohol/codelists/health-social-care-trusts.csv",
      "tableSchema": "https://ons-opendata.github.io/ref_common/codelist-schema.json"
    }, {
      "url": "https://ons-opendata.github.io/ref_common/codelists/measurement-units.csv",
      "tableSchema": "https://ons-opendata.github.io/ref_common/codelist-schema.json"
    }, {
    "url": "out/observations.csv",
      "tableSchema": {
        "columns": [{
          "titles": "Period",
          "name": "period",
          "datatype": {
            "format": "^(quarter/[0-9]{4}-Q[1-4]|year/[0-9]{4}|gegorian-interval/.*|month/[0-9]{4}-[0-9]{2}|day/[0-9]{4}-[0-9]{2}-[0-9]{2})$"
          },
          "required": true
        }, {
          "titles": "Sex",
          "name": "sex",
          "datatype": {
            "format": "^(T|F|M)$"
          },
          "required": true
        }, {
          "titles": "Age",
          "name": "age",
          "required": true
        }, {
          "titles": "Service Type",
          "name": "service_type",
          "datatype": {
            "format": "^-?[\\w\\/]+(-[\\w\\/]+)*$"
          },
          "required": true
        }, {
          "titles": "Residential Status",
          "name": "residential_status",
          "datatype": {
            "format": "^-?[\\w\\/]+(-[\\w\\/]+)*$"
          },
          "required": true
        }, {
          "titles": "Treatment Type",
          "name": "treatment_type",
          "datatype": {
            "format": "^-?[\\w\\/]+(-[\\w\\/]+)*$"
          },
          "required": true
        }, {
          "titles": "Health and Social Care Trust",
          "name": "trust",
          "datatype": {
            "format": "^-?[\\w\\/]+(-[\\w\\/]+)*$"
          },
          "required": true
        }, {
          "titles": "Measure Type",
          "name": "measure_type",
          "datatype": {
            "format": "^Count|Percentage$"
          },
          "required": true
        }, {
          "titles": "Unit",
          "name": "unit",
          "datatype": {
            "format": "^People$"
          },
          "required": true
        }, {
          "titles": "Value",
          "name": "value",
          "required": true
        }],
        "foreignKeys": [{
          "columnReference": "age",
          "reference": {
            "resource": "https://ons-opendata.github.io/ref_common/codelists/age-groups.csv",
            "columnReference": "notation"
          }
        }, {
          "columnReference": "service_type",
          "reference": {
            "resource": "https://ons-opendata.github.io/ref_alcohol/codelists/service-type.csv",
            "columnReference": "notation"
          }
        }, {
          "columnReference": "residential_status",
          "reference": {
            "resource": "https://ons-opendata.github.io/ref_alcohol/codelists/residential-status.csv",
            "columnReference": "notation"
          }
        }, {
          "columnReference": "treatment_type",
          "reference": {
            "resource": "https://ons-opendata.github.io/ref_alcohol/codelists/treatment-type.csv",
            "columnReference": "notation"
          }
        }, {
          "columnReference": "trust",
          "reference": {
            "resource": "https://ons-opendata.github.io/ref_alcohol/codelists/health-social-care-trusts.csv",
            "columnReference": "notation"
          }
        }],
        "primaryKey": [
          "period", "age", "sex", "service_type", "residential_status", "treatment_type", "trust",
          "measure_type", "unit"
        ]
      }
    }
  ]
}
